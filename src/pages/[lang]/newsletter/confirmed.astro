---
import PageHead from '@/components/PageHead.astro'
import { buttonVariants } from '@/components/ui/button'
import { languages } from '@/i18n/ui'
import { useLocalizedPath } from '@/i18n/utils'
import Layout from '@/layouts/Layout.astro'
import { cn } from '@/lib/utils'

export function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({ params: { lang } }))
}

const { lang } = Astro.params
const l = useLocalizedPath(lang as any)
---

<Layout class="max-w-3xl" lang={lang}>
  <PageHead
    slot="head"
    title={lang === 'en' ? 'Subscription Confirmed' : '订阅已确认'}
  />

  <section
    class="flex flex-col items-center justify-center gap-y-4 text-center"
  >
    <div class="max-w-md">
      <h1 class="mb-4 text-3xl font-medium">
        {lang === 'en' ? 'Subscription Confirmed!' : '订阅已确认！'}
      </h1>
      <p class="prose">
        {
          lang === 'en'
            ? "Thank you for subscribing to our newsletter. You're all set to receive the latest updates."
            : '感谢您订阅我们的新闻通讯。您已准备好接收最新动态。'
        }
      </p>
    </div>
    <a
      href={l('/')}
      class={cn(buttonVariants({ variant: 'outline' }), 'flex gap-x-1.5 group')}
    >
      <span class="transition-transform group-hover:-translate-x-1">&larr;</span
      >
      {lang === 'en' ? 'Go to home page' : '返回首页'}
    </a>
  </section>
</Layout>
